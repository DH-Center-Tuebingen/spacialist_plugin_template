<template>
    <div
        v-if="store.tabs.length === 0"
        class="alert alert-secondary m-3"
        role="alert"
    >
        No Tabs registered in Plugin
    </div>
    <ul
        v-else
        class="nav nav-pills gap-2 p-3"
    >
        <li
            v-for="(tab, index) in store.tabs"
            :key="index"
            class="nav-item"
        >
            <a
                class="nav-link"
                :class="pillClass(tab)"
                aria-current="page"
                href="#"  
                @click.prevent="()=> store.setActiveTab(tab.label)"
            >{{ tab.label }}</a>
        </li>
    </ul>
</template>

<script>
    import { computed } from 'vue';
    import { useAppStore } from '../../js/_dev/store';

    export default {
        setup() {

            const store = useAppStore();

            const pillClass = computed(() => {
                return (tab) => {
                    return {
                        'active': tab.label === store.activeTab,
                    };
                };
            });

            return {
                store,
                pillClass,
            };
        }
    };
</script>

<style lang='scss' scoped></style>